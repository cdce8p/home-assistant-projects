<script>
StateCardCover = customElements.get('state-card-cover')
StateInfo = customElements.get('state-info')


// ----------------
// MyStateInfoCover
// ----------------
class MyStateInfoCover extends StateInfo {

  static get styleTemplate() {
    return Polymer.html`
    ${super.styleTemplate}
    <style>
    .name {
      line-height: 20px;
    }
    </style>
`;
  }

  static get infoTemplate() {
    return Polymer.html`
    <div class="info">
      <div class="name" in-dialog\$="[[inDialog]]">[[computeStateName(stateObj)]]</div>
      <div class="extra-info">Position: [[computeStatePosition(stateObj)]]</div>

      <!-- <template is="dom-if" if="[[inDialog]]">
        <div class="time-ago">
          <ha-relative-time hass="[[hass]]" datetime="[[stateObj.last_changed]]"></ha-relative-time>
        </div>
      </template> -->
      <template is="dom-if" if="[[!inDialog]]">
        <div class="extra-info">
          <slot></slot>
        </div>
      </template>
    </div>
`;
  }


  computeStatePosition(stateObj) {
    return stateObj.attributes.current_position;
  }
}
customElements.define('my-state-info-cover', MyStateInfoCover);


// ----------------
// MyStateCardCover
// ----------------
class MyStateCardCover extends StateCardCover {

  static get stateInfoTemplate() {
    return Polymer.html`
    <my-state-info-cover hass="[[hass]]" state-obj="[[stateObj]]" in-dialog="[[inDialog]]"></my-state-info-cover>
`;
  }
}
customElements.define('my-state-card-cover', MyStateCardCover);
</script>
